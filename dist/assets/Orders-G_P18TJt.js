import{d as O,e as D,j as e,m as r,a6 as y,a7 as o,b as C,a8 as P,u as I,a9 as x,aa as _,ab as T,ac as L}from"./index-BJZVsLRM.js";import{u as z}from"./useOrder-BH0xq2Dk.js";function M(){const d=O(s=>s.user.user),t=z(d==null?void 0:d._id);D();const m=({status:s,type:a="delivery"})=>{const l=(n=>{switch(n==null?void 0:n.toLowerCase()){case"delivered":return{color:"bg-green-50 text-green-700 border-green-200",icon:e.jsx(x,{className:"w-3 h-3"})};case"shipped":return{color:"bg-blue-50 text-blue-700 border-blue-200",icon:e.jsx(L,{className:"w-3 h-3"})};case"pending":return{color:"bg-yellow-50 text-yellow-700 border-yellow-200",icon:e.jsx(T,{className:"w-3 h-3"})};case"canceled":return{color:"bg-red-50 text-red-700 border-red-200",icon:e.jsx(_,{className:"w-3 h-3"})};case"paid":return{color:"bg-green-50 text-green-700 border-green-200",icon:e.jsx(x,{className:"w-3 h-3"})};default:return{color:"bg-gray-50 text-gray-700 border-gray-200",icon:e.jsx(o,{className:"w-3 h-3"})}}})(s);return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${l.color}`,children:[l.icon,s]})},N=({order:s})=>e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("p",{className:"text-xs uppercase text-foreground font-semibold tracking-wider mb-1",children:"Order ID"}),e.jsxs("p",{className:"text-sm font-bold text-foreground font-mono",children:["#",(s==null?void 0:s.razorpay_order_id)||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-foreground font-semibold tracking-wider mb-1",children:"Order Date"}),e.jsx("p",{className:"text-sm text-foreground font-medium",children:new Date(s.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-foreground font-semibold tracking-wider mb-1",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-bold text-foreground",children:["₹",k(s.totalAmount)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-foreground font-semibold tracking-wider mb-1",children:"Status"}),e.jsx(m,{status:s.deliveryStatus})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs(C,{to:`/account/orders/${s._id}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-foreground text-white text-sm font-medium rounded-lg hover:bg-foreground/90 transition-colors duration-200",children:[e.jsx(P,{className:"w-4 h-4"}),"View Details"]})})]})}),w=({item:s})=>!s.withFallPico&&!s.withTassels?null:e.jsxs("div",{className:"flex gap-2 mt-3",children:[s.withFallPico&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Fall Pico (+₹300)"}),s.withTassels&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Tassels (+₹200)"})]}),v=({item:s})=>{var i,l,n;const a=I();return e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200 capitalize",children:[e.jsx("div",{className:"flex-shrink-0 ",children:e.jsx("img",{onClick:()=>{var c;return a(`/product/${(c=s.product)==null?void 0:c._id}`)},src:((i=s.product)==null?void 0:i.images[0])||"/Product_Placeholder.webp",alt:(l=s.product)==null?void 0:l.name,className:"w-30 h-30 object-cover rounded-sm  border-gray-200 shadow-sm object-top cursor-pointer"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-base font-semibold text-foreground mb-2",children:(n=s.product)==null?void 0:n.name}),e.jsx(w,{item:s})]})]})},S=({order:s})=>{var a,i,l,n,c,p,g,h,u,j,f,b;return e.jsx("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(o,{className:"w-4 h-4"}),"Shipping Address"]}),e.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:e.jsxs("p",{className:"text-sm text-foreground leading-relaxed",children:[((a=s==null?void 0:s.shippingAddress)==null?void 0:a.street)||((i=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:i.street),e.jsx("br",{}),((l=s==null?void 0:s.shippingAddress)==null?void 0:l.city)||((n=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:n.city),","," ",((c=s==null?void 0:s.shippingAddress)==null?void 0:c.state)||((p=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:p.state),e.jsx("br",{}),((g=s==null?void 0:s.shippingAddress)==null?void 0:g.postalCode)||((h=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:h.postalCode),","," ",((u=s==null?void 0:s.shippingAddress)==null?void 0:u.country)||((j=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:j.country),e.jsx("br",{}),e.jsxs("span",{className:"font-medium",children:["Phone:"," ",((f=s==null?void 0:s.shippingAddress)==null?void 0:f.phone)||((b=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:b.phone)]})]})})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4"}),"Payment Information"]}),e.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[s.paymentMethod&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-foreground/70",children:"Method:"}),e.jsx("span",{className:"font-medium text-foreground capitalize",children:s.paymentMethod})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-foreground/70",children:"Status:"}),e.jsx(m,{status:s.paymentStatus,type:"payment"})]}),s.paidAt&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-foreground/70",children:"Paid on:"}),e.jsx("span",{className:"font-medium text-foreground",children:new Date(s==null?void 0:s.paidAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})})]})]})})},A=()=>e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:e.jsx(y,{className:"w-8 h-8 text-foreground/50"})}),e.jsx("p",{className:"text-foreground text-lg font-medium mb-2",children:"No orders found"}),e.jsx("p",{className:"text-foreground/70 text-sm",children:"Start shopping to see your orders here."})]}),F=({order:s,index:a})=>e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:a*.1},whileHover:{scale:1.01},className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",children:[e.jsx(N,{order:s}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(o,{className:"w-4 h-4 text-foreground"}),e.jsxs("h3",{className:"text-sm font-semibold text-foreground uppercase tracking-wider",children:["Items (",s.items.length,")"]})]}),e.jsx("div",{className:"space-y-4",children:s.items.map(i=>e.jsx(v,{item:i},i._id))})]}),e.jsx(S,{order:s})]}),k=s=>(s||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2});return e.jsxs(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold text-foreground",children:[e.jsx("div",{className:"p-2 bg-foreground/10 rounded-lg",children:e.jsx(y,{className:"w-6 h-6 text-foreground"})}),"Order History"]}),e.jsxs("div",{className:"text-sm text-foreground/70 bg-foreground/5 px-3 py-1 rounded-full",children:[t==null?void 0:t.length," ",(t==null?void 0:t.length)===1?"Order":"Orders"]})]}),t?t.length===0?e.jsx(A,{}):e.jsx("div",{className:"space-y-6",children:t.map((s,a)=>e.jsx(F,{order:s,index:a},s==null?void 0:s._id))}):e.jsx("div",{className:"flex items-center justify-center py-24",children:e.jsx("div",{className:"w-10 h-10 border-4 border-gray-300 border-t-foreground rounded-full animate-spin"})})]})}export{M as default};
