import{x as D,d as k,j as e,m as c,a7 as f,b as N,aj as w,u as F,ac as O,ak as C}from"./index-BJZVsLRM.js";import{F as b,T as v}from"./Constant-B8kb6R2V.js";import{R as L}from"./ReceiptPreview-BdM_1W-t.js";const p={hidden:{opacity:0,y:20},visible:s=>({opacity:1,y:0,transition:{delay:s*.2,duration:.4}})},g=({status:s,type:l="default"})=>{const t=(a,i)=>{const n=a==null?void 0:a.toLowerCase();if(i==="payment")switch(n){case"paid":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"failed":case"pending":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}switch(n){case"delivered":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"shipped":case"out for delivery":return"bg-blue-50 text-blue-700 border-blue-200";case"pending":return"bg-amber-50 text-amber-700 border-amber-200";case"canceled":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${t(s,l)}`,children:s})},T=({order:s})=>e.jsxs(c.div,{custom:0,initial:"hidden",animate:"visible",variants:p,className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Order Details"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Order ID:"," ",e.jsx("span",{className:"font-mono font-medium",children:s.razorpay_order_id})]})]}),e.jsx(c.div,{whileHover:{x:-5},transition:{duration:.2},children:e.jsxs(N,{to:"/account/orders",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-foreground hover:text-blue-600 transition-colors",children:[e.jsx(w,{size:16}),"Back to Orders"]})})]}),I=({order:s,formatINR:l})=>e.jsx(c.div,{custom:1,initial:"hidden",animate:"visible",variants:p,className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-xl p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Order Date"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:new Date(s.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Total Amount"}),e.jsxs("p",{className:"text-xl font-bold text-foreground",children:["â‚¹",l(s.totalAmount)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Payment Status"}),e.jsx(g,{status:s.paymentStatus,type:"payment"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Delivery Status"}),e.jsx(g,{status:s.deliveryStatus})]})]})}),z=({item:s,index:l,formatINR:t,order:a})=>{const i=s.product.price,n=s.withFallPico?b:0,h=s.withTassels?v:0,u=n+h,r=(a==null?void 0:a.offer)||0,d=(a==null?void 0:a.discount)||0,o=i*r/100,m=i-o,x=m+u,j=x*s.quantity,P=j-d,S=d?(d/j*100).toFixed(2):0,A=F();return e.jsx(c.div,{whileHover:{scale:1.01},transition:{duration:.2},className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{onClick:()=>{var y;return A(`/product/${(y=s.product)==null?void 0:y._id}`)},src:s.product.images[0]||"/placeholder.svg",alt:s.product.name,className:"w-24 h-24 sm:w-28 sm:h-28 object-cover object-top rounded-sm cursor-pointer"})}),e.jsxs("div",{className:"flex-1 space-y-4 text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 capitalize",children:s.product.name}),e.jsxs("div",{className:"flex gap-4 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{children:["Product ID: ",e.jsx("code",{children:s.product._id})]}),e.jsxs("span",{children:["Qty: ",e.jsx("strong",{children:s.quantity})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[e.jsx("h5",{className:"text-sm font-bold text-gray-900",children:"ðŸ§¾ Price Calculation Summary"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:"Step 1: Base Price"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Base Price (per unit)"}),e.jsxs("span",{children:["â‚¹",t(i)]})]}),r>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Offer Discount (",r,"%)"]}),e.jsxs("span",{children:["-â‚¹",t(o)]})]}),e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Price After Offer"}),e.jsxs("span",{children:["â‚¹",t(m)]})]})]})]}),(s.withFallPico||s.withTassels)&&e.jsxs("div",{className:"space-y-1 pt-2",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:"Step 2: Add-ons"}),s.withFallPico&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Fall Pico"}),e.jsxs("span",{children:["+â‚¹",b]})]}),s.withTassels&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Tassels"}),e.jsxs("span",{children:["+â‚¹",v]})]})]}),e.jsxs("div",{className:"border-t pt-2 space-y-1",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:"Step 3: Final Price (Per Unit)"}),e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Per Unit Final Price"}),e.jsxs("span",{children:["â‚¹",t(x)]})]})]}),e.jsxs("div",{className:"space-y-1 pt-2",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:"Step 4: Gross Total"}),e.jsxs("div",{className:"flex justify-between font-bold text-gray-800",children:[e.jsxs("span",{children:[s.quantity," Ã— â‚¹",t(x)]}),e.jsxs("span",{children:["â‚¹",t(j)]})]})]}),d>0&&e.jsxs("div",{className:"space-y-1 pt-2 text-red-600",children:[e.jsx("p",{className:"font-semibold text-red-700",children:"Step 5: Coupon Discount"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Coupon Discount (",S,"%)"]}),e.jsxs("span",{children:["-â‚¹",t(d)]})]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between text-lg font-bold text-gray-900",children:[e.jsx("span",{children:" Net Payable"}),e.jsxs("span",{children:["â‚¹",t(P)]})]})]})]})]})},l)},_=({order:s})=>{var l,t,a,i,n,h,u,r,d,o,m,x;return e.jsxs(c.div,{custom:3,initial:"hidden",animate:"visible",variants:p,className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-foreground",children:[e.jsx(O,{size:20}),"Shipping Information"]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Delivery Address"}),e.jsx("div",{className:"text-sm text-foreground space-y-1",children:e.jsxs("p",{className:"text-sm text-foreground leading-relaxed",children:[((l=s==null?void 0:s.shippingAddress)==null?void 0:l.street)||((t=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:t.street),e.jsx("br",{}),((a=s==null?void 0:s.shippingAddress)==null?void 0:a.city)||((i=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:i.city),","," ",((n=s==null?void 0:s.shippingAddress)==null?void 0:n.state)||((h=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:h.state),e.jsx("br",{}),((u=s==null?void 0:s.shippingAddress)==null?void 0:u.postalCode)||((r=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:r.postalCode),","," ",((d=s==null?void 0:s.shippingAddress)==null?void 0:d.country)||((o=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:o.country),e.jsx("br",{}),e.jsxs("span",{className:"font-medium",children:["Phone:"," ",((m=s==null?void 0:s.shippingAddress)==null?void 0:m.phone)||((x=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:x.phone)]})]})})]}),s.deliveredAt&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Delivered At"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:new Date(s.deliveredAt).toLocaleString("en-IN")})]})]})})]})},B=({order:s})=>e.jsxs(c.div,{custom:4,initial:"hidden",animate:"visible",variants:p,className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-foreground",children:[e.jsx(C,{size:20}),"Payment Information"]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Payment Method"}),e.jsx("p",{className:"text-sm font-medium text-foreground capitalize",children:s.paymentMethod})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Payment Status"}),e.jsx(g,{status:s.paymentStatus,type:"payment"})]}),s.paidAt&&e.jsxs("div",{className:"sm:col-span-2 pt-4 border-t",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Payment Date"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:new Date(s.paidAt).toLocaleString("en-IN")})]})]})})]});function q(){const{orderId:s}=D(),t=(k(i=>i.order.orders)||[]).find(i=>i._id===s),a=i=>(i||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2});return t?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-8",children:[e.jsx(T,{order:t}),e.jsx(I,{order:t,formatINR:a}),e.jsxs(c.div,{custom:2,initial:"hidden",animate:"visible",variants:p,className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-foreground",children:[e.jsx(f,{size:20}),"Products (",t.items.length,")"]}),e.jsx("div",{className:"space-y-4",children:t.items.map((i,n)=>e.jsx(z,{item:i,index:n,order:t,formatINR:a},n))})]}),e.jsx(_,{order:t}),e.jsx(B,{order:t}),e.jsx(L,{imageUrl:t==null?void 0:t.delhiveryReceipt})]})})}):e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-center py-16",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx(f,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Order Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The order you're looking for doesn't exist or may have been removed."}),e.jsx(c.div,{whileHover:{x:-5},transition:{duration:.2},children:e.jsxs(N,{to:"/account/orders",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(w,{size:16}),"Back to Orders"]})})]})})}export{q as default};
